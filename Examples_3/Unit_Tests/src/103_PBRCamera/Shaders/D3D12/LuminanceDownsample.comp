RWTexture2D<min16float> LuminanceCurMip : register(u0, UPDATE_FREQ_PER_DRAW);

Texture2D<min16float> LuminancePrevMip : register(t0, UPDATE_FREQ_PER_DRAW);

[numthreads(1, 1, 1)]
void main(uint3 DTid : SV_DispatchThreadID)
{
	uint3 xyz = uint3(DTid.xy << 1u, 0u);
	min16float result = LuminancePrevMip.Load(xyz);
	result += LuminancePrevMip.Load(xyz, int2(0, 1));
	result += LuminancePrevMip.Load(xyz, int2(1, 0));
	result += LuminancePrevMip.Load(xyz, int2(1, 1));
	
	LuminanceCurMip[DTid.xy] = result * min16float(0.25h);
}